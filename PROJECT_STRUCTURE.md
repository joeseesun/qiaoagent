# ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸŒ³ å®Œæ•´ç›®å½•æ ‘

```
qiaoagent/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
â”‚   â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ .vercelignore               # Vercel å¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json                # Node.js ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ package-lock.json           # Node.js ä¾èµ–é”å®š
â”‚   â”œâ”€â”€ requirements.txt            # Python ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”‚   â”œâ”€â”€ tailwind.config.ts          # Tailwind CSS é…ç½®
â”‚   â”œâ”€â”€ next.config.mjs             # Next.js é…ç½®
â”‚   â”œâ”€â”€ postcss.config.mjs          # PostCSS é…ç½®
â”‚   â””â”€â”€ vercel.json                 # Vercel éƒ¨ç½²é…ç½®
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æ¡£æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md                   # é¡¹ç›®ä»‹ç»
â”‚   â”œâ”€â”€ QUICKSTART.md               # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â”‚   â”œâ”€â”€ DEPLOYMENT.md               # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ CONTRIBUTING.md             # è´¡çŒ®æŒ‡å—
â”‚   â”œâ”€â”€ PROJECT_SUMMARY.md          # é¡¹ç›®æ€»ç»“
â”‚   â”œâ”€â”€ CHECKLIST.md                # éªŒæ”¶æ£€æŸ¥æ¸…å•
â”‚   â”œâ”€â”€ DELIVERY.md                 # äº¤ä»˜æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md             # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ FAQ.md                      # å¸¸è§é—®é¢˜
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md        # æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ”§ è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ start.sh                    # Unix/Linux/macOS å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start.bat                   # Windows å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ test_api.sh                 # API æµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ¨ å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx              # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ globals.css             # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ page.tsx                # ç”¨æˆ·ä¸»é¡µ
â”‚   â”‚   â””â”€â”€ admin/                  # ç®¡ç†åå°
â”‚   â”‚       â”œâ”€â”€ page.tsx            # ç™»å½•é¡µ
â”‚   â”‚       â””â”€â”€ dashboard/
â”‚   â”‚           â””â”€â”€ page.tsx        # é…ç½®é¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                 # React ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/                     # shadcn/ui ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ button.tsx          # æŒ‰é’®ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ card.tsx            # å¡ç‰‡ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ input.tsx           # è¾“å…¥æ¡†ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ label.tsx           # æ ‡ç­¾ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ select.tsx          # é€‰æ‹©å™¨ç»„ä»¶
â”‚   â”‚       â””â”€â”€ textarea.tsx        # æ–‡æœ¬åŸŸç»„ä»¶
â”‚   â”‚
â”‚   â””â”€â”€ lib/                        # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ utils.ts                # é€šç”¨å·¥å…·
â”‚
â”œâ”€â”€ ğŸ”Œ åç«¯ä»£ç 
â”‚   â”œâ”€â”€ api/                        # FastAPI æ¥å£
â”‚   â”‚   â”œâ”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ workflows.py            # å·¥ä½œæµåˆ—è¡¨ API
â”‚   â”‚   â”œâ”€â”€ run_crew.py             # æ‰§è¡Œå·¥ä½œæµ API
â”‚   â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç† API
â”‚   â”‚   â””â”€â”€ auth.py                 # è®¤è¯ API
â”‚   â”‚
â”‚   â””â”€â”€ crew/                       # CrewAI å¼•æ“
â”‚       â”œâ”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–
â”‚       â””â”€â”€ main.py                 # å·¥ä½œæµæ‰§è¡Œå¼•æ“
â”‚
â””â”€â”€ ğŸ“¦ é™æ€èµ„æº
    â””â”€â”€ public/                     # å…¬å…±èµ„æº
        â””â”€â”€ workflows.json          # å·¥ä½œæµé…ç½®æ–‡ä»¶
```

## ğŸ“‚ ç›®å½•è¯¦è§£

### æ ¹ç›®å½•æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | é‡è¦æ€§ |
|------|------|--------|
| `.env` | ç¯å¢ƒå˜é‡é…ç½®ï¼ˆAPI Keyã€å¯†ç ç­‰ï¼‰ | â­â­â­â­â­ |
| `.env.example` | ç¯å¢ƒå˜é‡æ¨¡æ¿ | â­â­â­â­ |
| `.gitignore` | Git å¿½ç•¥è§„åˆ™ | â­â­â­â­ |
| `.vercelignore` | Vercel éƒ¨ç½²å¿½ç•¥è§„åˆ™ | â­â­â­ |
| `package.json` | Node.js é¡¹ç›®é…ç½® | â­â­â­â­â­ |
| `requirements.txt` | Python ä¾èµ–åˆ—è¡¨ | â­â­â­â­â­ |
| `tsconfig.json` | TypeScript ç¼–è¯‘é…ç½® | â­â­â­â­ |
| `tailwind.config.ts` | Tailwind CSS é…ç½® | â­â­â­â­ |
| `vercel.json` | Vercel éƒ¨ç½²é…ç½® | â­â­â­â­â­ |

### app/ - Next.js åº”ç”¨

```
app/
â”œâ”€â”€ layout.tsx              # æ ¹å¸ƒå±€ï¼ˆå…¨å±€ HTML ç»“æ„ï¼‰
â”œâ”€â”€ globals.css             # å…¨å±€æ ·å¼ï¼ˆTailwind + è‡ªå®šä¹‰ï¼‰
â”œâ”€â”€ page.tsx                # é¦–é¡µï¼ˆç”¨æˆ·åˆ›ä½œç•Œé¢ï¼‰
â””â”€â”€ admin/                  # ç®¡ç†åå°
    â”œâ”€â”€ page.tsx            # ç™»å½•é¡µ
    â””â”€â”€ dashboard/
        â””â”€â”€ page.tsx        # é…ç½®é¡µï¼ˆAgent/Task ç¼–è¾‘ï¼‰
```

**å…³é”®æ–‡ä»¶ï¼š**

- **layout.tsx**: å®šä¹‰å…¨å±€å¸ƒå±€ã€å­—ä½“ã€å…ƒæ•°æ®
- **page.tsx**: ç”¨æˆ·ä¸»ç•Œé¢ï¼ŒåŒ…å«å·¥ä½œæµé€‰æ‹©ã€ä¸»é¢˜è¾“å…¥ã€ç»“æœå±•ç¤º
- **admin/page.tsx**: ç®¡ç†å‘˜ç™»å½•é¡µ
- **admin/dashboard/page.tsx**: å·¥ä½œæµé…ç½®é¡µ

### components/ - React ç»„ä»¶

```
components/
â””â”€â”€ ui/                     # shadcn/ui ç»„ä»¶åº“
    â”œâ”€â”€ button.tsx          # æŒ‰é’®ï¼ˆå¤šç§å˜ä½“ï¼‰
    â”œâ”€â”€ card.tsx            # å¡ç‰‡å®¹å™¨
    â”œâ”€â”€ input.tsx           # è¾“å…¥æ¡†
    â”œâ”€â”€ label.tsx           # è¡¨å•æ ‡ç­¾
    â”œâ”€â”€ select.tsx          # ä¸‹æ‹‰é€‰æ‹©å™¨
    â””â”€â”€ textarea.tsx        # å¤šè¡Œæ–‡æœ¬æ¡†
```

**ç‰¹ç‚¹ï¼š**
- åŸºäº Radix UI åŸè¯­
- å®Œå…¨å¯å®šåˆ¶
- æ”¯æŒé»‘ç™½ç°ä¸»é¢˜
- TypeScript ç±»å‹å®‰å…¨

### api/ - FastAPI åç«¯

```
api/
â”œâ”€â”€ __init__.py             # ç©ºæ–‡ä»¶ï¼ˆPython åŒ…æ ‡è¯†ï¼‰
â”œâ”€â”€ workflows.py            # GET /api/workflows
â”œâ”€â”€ run_crew.py             # POST /api/run_crew
â”œâ”€â”€ config.py               # GET/POST /api/config
â””â”€â”€ auth.py                 # POST /api/auth
```

**API ç«¯ç‚¹ï¼š**

| æ–‡ä»¶ | ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|------|
| `workflows.py` | `/api/workflows` | GET | è·å–å·¥ä½œæµåˆ—è¡¨ |
| `run_crew.py` | `/api/run_crew` | POST | æ‰§è¡Œå·¥ä½œæµ |
| `config.py` | `/api/config` | GET | è·å–é…ç½® |
| `config.py` | `/api/config` | POST | æ›´æ–°é…ç½® |
| `auth.py` | `/api/auth` | POST | éªŒè¯å¯†ç  |

### crew/ - CrewAI å¼•æ“

```
crew/
â”œâ”€â”€ __init__.py             # ç©ºæ–‡ä»¶
â””â”€â”€ main.py                 # æ ¸å¿ƒå·¥ä½œæµå¼•æ“
```

**main.py æ ¸å¿ƒå‡½æ•°ï¼š**

| å‡½æ•° | åŠŸèƒ½ |
|------|------|
| `load_workflow_config()` | ä» JSON åŠ è½½å·¥ä½œæµé…ç½® |
| `create_llm()` | åˆ›å»º LLM å®ä¾‹ |
| `create_agents()` | æ ¹æ®é…ç½®åˆ›å»º Agents |
| `create_tasks()` | æ ¹æ®é…ç½®åˆ›å»º Tasks |
| `parse_result()` | è§£æ CrewAI è¾“å‡º |
| `run_workflow()` | æ‰§è¡Œå®Œæ•´å·¥ä½œæµ |

### public/ - é™æ€èµ„æº

```
public/
â””â”€â”€ workflows.json          # å·¥ä½œæµé…ç½®æ–‡ä»¶
```

**workflows.json ç»“æ„ï¼š**

```json
{
  "workflows": [
    {
      "name": "å·¥ä½œæµåç§°",
      "id": "workflow_id",
      "agents": [
        {
          "name": "Agent åç§°",
          "role": "è§’è‰²",
          "goal": "ç›®æ ‡",
          "prompt": "æç¤ºè¯"
        }
      ],
      "tasks": [
        {
          "description": "ä»»åŠ¡æè¿°",
          "agent": "æ‰§è¡Œçš„ Agent åç§°"
        }
      ]
    }
  ]
}
```

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### æŒ‰ç±»å‹åˆ†ç±»

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| TypeScript/TSX | 12 | å‰ç«¯ä»£ç  |
| Python | 5 | åç«¯ä»£ç  |
| JSON | 3 | é…ç½®æ–‡ä»¶ |
| Markdown | 10 | æ–‡æ¡£æ–‡ä»¶ |
| Shell | 2 | å¯åŠ¨è„šæœ¬ |
| CSS | 1 | æ ·å¼æ–‡ä»¶ |
| é…ç½®æ–‡ä»¶ | 7 | å„ç§é…ç½® |
| **æ€»è®¡** | **40** | |

### æŒ‰åŠŸèƒ½åˆ†ç±»

| åŠŸèƒ½ | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•°ï¼ˆä¼°ç®—ï¼‰ |
|------|--------|------------------|
| å‰ç«¯ç•Œé¢ | 12 | ~1,500 |
| åç«¯ API | 5 | ~400 |
| é…ç½®æ–‡ä»¶ | 10 | ~300 |
| æ–‡æ¡£ | 10 | ~1,500 |
| è„šæœ¬ | 3 | ~200 |
| **æ€»è®¡** | **40** | **~3,900** |

## ğŸ” å…³é”®æ–‡ä»¶è¯´æ˜

### 1. vercel.json
**ä½œç”¨ï¼š** Vercel éƒ¨ç½²é…ç½®

**å…³é”®é…ç½®ï¼š**
- `builds`: å®šä¹‰æ„å»ºæ­¥éª¤ï¼ˆNext.js + Pythonï¼‰
- `routes`: å®šä¹‰è·¯ç”±è§„åˆ™ï¼ˆAPI è·¯ç”±ï¼‰

### 2. workflows.json
**ä½œç”¨ï¼š** å·¥ä½œæµé…ç½®æ•°æ®

**ç‰¹ç‚¹ï¼š**
- åŠ¨æ€åŠ è½½
- å¯é€šè¿‡åå°ç¼–è¾‘
- æ”¯æŒå¤šå·¥ä½œæµ

### 3. app/page.tsx
**ä½œç”¨ï¼š** ç”¨æˆ·ä¸»ç•Œé¢

**åŠŸèƒ½ï¼š**
- å·¥ä½œæµé€‰æ‹©
- ä¸»é¢˜è¾“å…¥
- ç”ŸæˆæŒ‰é’®
- ç»“æœå±•ç¤º

### 4. app/admin/dashboard/page.tsx
**ä½œç”¨ï¼š** ç®¡ç†é…ç½®ç•Œé¢

**åŠŸèƒ½ï¼š**
- å·¥ä½œæµç®¡ç†
- Agent ç¼–è¾‘
- Task ç¼–è¾‘
- ä¿å­˜é…ç½®

### 5. crew/main.py
**ä½œç”¨ï¼š** CrewAI å·¥ä½œæµå¼•æ“

**åŠŸèƒ½ï¼š**
- åŠ è½½é…ç½®
- åˆ›å»º Agents
- åˆ›å»º Tasks
- æ‰§è¡Œå·¥ä½œæµ
- è§£æç»“æœ

## ğŸ¯ æ–‡ä»¶ä¾èµ–å…³ç³»

```
ç”¨æˆ·è®¿é—®
    â”‚
    â–¼
app/page.tsx
    â”‚
    â”œâ”€â–º components/ui/*
    â”‚
    â””â”€â–º POST /api/run_crew
            â”‚
            â–¼
        api/run_crew.py
            â”‚
            â–¼
        crew/main.py
            â”‚
            â”œâ”€â–º public/workflows.json
            â”‚
            â””â”€â–º tu-zi.com API
```

## ğŸ“ ä¿®æ”¹æŒ‡å—

### æ·»åŠ æ–°é¡µé¢
1. åœ¨ `app/` ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. æ·»åŠ  `page.tsx`
3. å¯¼å…¥æ‰€éœ€ç»„ä»¶

### æ·»åŠ æ–° API
1. åœ¨ `api/` ä¸‹åˆ›å»ºæ–°æ–‡ä»¶
2. å®šä¹‰ FastAPI è·¯ç”±
3. åœ¨ `vercel.json` ä¸­æ·»åŠ è·¯ç”±

### æ·»åŠ æ–°ç»„ä»¶
1. åœ¨ `components/ui/` ä¸‹åˆ›å»ºæ–°æ–‡ä»¶
2. å¯¼å‡ºç»„ä»¶
3. åœ¨é¡µé¢ä¸­å¯¼å…¥ä½¿ç”¨

### ä¿®æ”¹å·¥ä½œæµ
1. è®¿é—® `/admin`
2. ç¼–è¾‘é…ç½®
3. ä¿å­˜

æˆ–ç›´æ¥ç¼–è¾‘ `public/workflows.json`

## ğŸ”’ æ•æ„Ÿæ–‡ä»¶

**ä¸è¦æäº¤åˆ° Gitï¼š**
- `.env` - åŒ…å« API Key å’Œå¯†ç 
- `node_modules/` - ä¾èµ–åŒ…
- `.next/` - æ„å»ºè¾“å‡º
- `__pycache__/` - Python ç¼“å­˜

**å·²åœ¨ .gitignore ä¸­é…ç½®**

## ğŸ“¦ éƒ¨ç½²æ–‡ä»¶

**Vercel éœ€è¦çš„æ–‡ä»¶ï¼š**
- `package.json` - Node.js ä¾èµ–
- `requirements.txt` - Python ä¾èµ–
- `vercel.json` - éƒ¨ç½²é…ç½®
- æ‰€æœ‰æºä»£ç æ–‡ä»¶

**ä¸éœ€è¦éƒ¨ç½²çš„æ–‡ä»¶ï¼š**
- `node_modules/` - ä¼šè‡ªåŠ¨å®‰è£…
- `.next/` - ä¼šè‡ªåŠ¨æ„å»º
- `.env` - åœ¨ Vercel Dashboard é…ç½®

## ğŸ‰ æ€»ç»“

æœ¬é¡¹ç›®ç»“æ„æ¸…æ™°ã€æ¨¡å—åŒ–ç¨‹åº¦é«˜ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤ã€‚æ‰€æœ‰æ–‡ä»¶éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼Œéµå¾ªæœ€ä½³å®è·µã€‚

